---
id: образец сравнения-как-использовать-javalin
url: comparison/java/how-to-use-javalin-comparison-sample
title: "Как использовать образец сравнения Javalin"
weight: 25
description: "В статье описывается образец сравнения групповых документов, созданный с использованием Javalin Framework."
keywords: "Сравните документы, Javalin Framework, сравните файлы с Kotlin, инструмент сравнения с Kotlin и Javalin Framework"
productName: GroupDocs.Comparison для Java
hideChildren: False
структурированные данные:
шоуОрганизация: True
заявление:
название: PowerPoint, Excel, API сравнения изображений
        description: "Продукт позволяет сравнивать файлы PowerPoint, Excel и изображения."
код продукта: сравнение
Платформа продукта: Java
как:
название: Как использовать Javalin Framework
        description: "Узнайте, как использовать Javalin Framework для сравнения документов"
шаги:
- название: Используемые технологии
текст: Узнайте, какие технологии необходимы и будут использоваться в приложении
- имя: Общая структура проекта
текст: Очень важно понимать основную структуру проекта
- название: Как запустить образец
текст: один или несколько способов запуска приложения
- название: Основные моменты внутри приложения
текст: Реализуйте общие функции внутри приложения, чтобы оно работало
---
Библиотека сравнения GroupDocs может использоваться со многими популярными веб-фреймворками. Одним из них является Javalin Framework. Прочитав статью, вы поймете, как легко современный и мощный [GroupDocs.Comparison API](https://products.groupdocs.com/comparison) можно объединить с Javalin Framework для создания веб-приложения для сравнения чертежей AutoCad, презентаций PowerPoint, Документы Word, Excel и Pdf, фотографии, изображения и [многое другое](/comparison/java/supported-document-formats/). Пример приложения полностью свободен для использования и изменения. Исходники доступны на [странице GitHub] (https://github.com/groupdocs-comparison/GroupDocs.Comparison-for-Java/tree/d1e380f/Demos/Javalin)

### Используемые технологии

1. Kotlin — современный язык программирования, который делает разработчиков счастливее. Полностью совместим с библиотеками Java.
2. Javalin — простой веб-фреймворк для Java и Kotlin.
3. Jetty — встроен в веб-сервер Javalin.
4. [GroupDocs.Comparison API](https://products.groupdocs.com/comparison/) — современная библиотека сравнения для Java, Kotlin и .NET
5. Koin — библиотека инъекций Smart Kotlin
6. Slf4j - Обертка для системы логирования

### Общая структура проекта

* `config` — класс Kotlin для сопоставления конфигурации приложения
* `di` - Модули внедрения зависимостей Koin
* `manager` - Менеджер для работы с путями
* `model` — модели, представляющие запросы и ответы.
* `modules` — сопоставление URL-адресов с контроллерами для обработки запросов.
* `usecase` - бизнес-логика

#### Лишние файлы

В источниках:

* `Application.kt` - точка входа приложения
* `Defaults.kt` - значения по умолчанию для параметров конфигурации

В ресурсах:

* `application.conf` - конфигурация приложения
* `logback.xml` - конфигурация системы логирования

### Как запустить образец

#### Использование IDE

Точка входа образца находится в файле Application.kt. Он содержит основную функцию, которую необходимо выполнить для запуска приложения. Вы можете сделать это с помощью любимой IDE.

#### Использование командной строки

Откройте командную строку в каталоге примера. Чтобы запустить образец, выполните следующую команду

<script src="https://gist.github.com/groupdocs-comparison-gists/6987202c524f6c430eae2669bad8c64b.js"></script>

Команда запустит приложение с помощью оболочки gradle, которая находится в каталоге `gradle`. Откройте [http://localhost:8080/comparer](http://localhost:8080/comparison) в веб-браузере, чтобы увидеть пример пользовательского интерфейса.

Чтобы создать архив дистрибутива, просто соберите приложение с помощью следующей команды

<script src="https://gist.github.com/groupdocs-comparison-gists/77581fd6decb81d87d7a7487f997de7a.js"></script>

Затем перейдите в каталог `.\build\distributions\` и вы увидите файлы дистрибутива:

* сравнение-javalin-22.3.tar
* сравнение-javalin-22.3.zip

Внутри них есть два каталога: «bin» со скриптами для запуска приложения и «lib» со всеми библиотеками приложений.

### Основные моменты внутри приложения

#### Сопоставления и контроллеры

Пакет `mudules` содержит подпакеты, каждый из которых представляет собой отдельный запрос. В качестве примера рассмотрим подпакет `compare`.

В пакете два файла:

1. `CompareModule.kt` - этот файл содержит сопоставление URL, он будет вызываться при отправке запроса на сравнение документов

<script src="https://gist.github.com/groupdocs-comparison-gists/20a0e6af013f3c0a8a57695efd2ed87d.js"></script>

Класс делает простые вещи: перехватывает запрос, извлекает параметры, вызывает контроллер и возвращает объект ответа.
2. `CompareController.kt` - используя варианты использования и параметры, создает объект ответа.
Во-первых, с помощью PathManager контроллер проверяет, что пути запросов находятся внутри разрешенных каталогов.

<script src="https://gist.github.com/groupdocs-comparison-gists/80121384a48c0bd18adf82471ec06158.js"></script>

Во-вторых, проверяется, поддерживаются ли запрошенные файлы образцом. Для этого контроллер использует специальный вариант использования, который называется `AreFilesSupportedUseCase`.

<script src="https://gist.github.com/groupdocs-comparison-gists/d967ad8ff4850452d20be766fc80e540.js"></script>

В-третьих, контроллер создает путь к файлу, который будет использоваться для сохранения результирующего документа процесса сравнения.

<script src="https://gist.github.com/groupdocs-comparison-gists/e5fbb26f52bd2a20e6ba7e918761bc60.js"></script>

Там используются какие-то временные файлы. Это необходимо для минимизации использования оперативной памяти. Любой может легко изменить образец, чтобы избежать сохранения каких-либо файлов. В `application.conf` есть специальная опция для настройки пути к временному каталогу. Системный временный каталог используется по умолчанию.

Следующим шагом является использование `CompareDocumentsUseCase` для сравнения исходного и целевого документов с сохранением файла результатов. Вариант использования возвращает список изменений, которые будут установлены в объекте ответа, чтобы отправить его обратно клиенту.

<script src="https://gist.github.com/groupdocs-comparison-gists/8c38027c876bcdb257a410ed9ed295b6.js"></script>

Usecase `RetrieveLocalFilePagesStreamUseCase`, используется для получения входного потока для каждой страницы результирующего документа.

<script src="https://gist.github.com/groupdocs-comparison-gists/3a9ae7912f345b02e45a2469287ffed6.js"></script>

И, наконец, необходимо сопоставить объекты `ChangeInfo` из пакета groupdocs с моделями ответов, которые будут использоваться в качестве результата.

#### Понимание вариантов использования

Usecase — это всего лишь одно действие, которое можно выполнить. Обычно он содержит бизнес-логику для решения одной задачи. Варианты использования должны быть просты для тестирования. В проекте все варианты использования настроены для создания библиотекой инъекций Koin. У некоторых из них есть параметры конструктора, которые будут внедрены Koin при создании экземпляра варианта использования.
Например, давайте рассмотрим `CompareDocumentsUseCase`

Существует переопределенный оператор `invoke`, так что вариант использования можно вызывать, используя его объект, как функцию. У варианта использования есть одна простая цель — сравнение исходного и целевого документов, записывающих результат в предоставленный выходной поток.

<script src="https://gist.github.com/groupdocs-comparison-gists/a73539b2fdb66f8cde9495beb47d5fc5.js"></script>

В качестве аргументов он принимает пути к исходным и целевым документам и выходному потоку. Данные результатов проекта сравнения будут записаны в предоставленный поток. Как вариант, есть параметры для передачи пароля для каждого документа.

Для сравнения документов используется мощная и современная библиотека [GroupDocs.Comparison for Java/Kotlin](https://products.groupdocs.com/comparison/java/). Процесс сравнения очень прост с библиотекой.

Чтобы сравнить документы, презентации, изображения и т. д., просто выполните следующие действия:
1. Создайте объект класса `Comparer`, передающий путь к исходному документу или поток.
Параметры загрузки можно использовать для предоставления пароля для исходного документа. Кроме того, используя параметры, вы можете настроить Comparer для использования первого аргумента в качестве исходного текста для процесса сравнения. Кроме того, есть возможность настроить каталоги со шрифтами, характерными для документа. Comparer реализует интерфейс Java `Closeable`, поэтому после его использования очень легко освободить память.

<script src="https://gist.github.com/groupdocs-comparison-gists/cded4b9f8a4f1fd1ec4ae1de61c3b15a.js"></script>

2. Вызовите метод компаратора add (внутри блока use), чтобы добавить второй документ или текст для сравнения. Метод использует тот же параметр `LoadOptions` для предоставления пароля и так далее. [API GroupDocs.Comparison](https://products.groupdocs.com/comparison/java/) поддерживает сравнение нескольких документов, поэтому вы можете добавить более одного целевого документа.

<script src="https://gist.github.com/groupdocs-comparison-gists/180ae9b27854c4b11dde7854e6ead725.js"></script>

3. Последним шагом является вызов метода `compare`, который будет выполнять сравнение. Метод принимает объект `CompareOptions` в качестве второго аргумента. В примере используются лишь некоторые из доступных опций. В приведенном выше коде компаратор настроен на обработку изменений стилей, показ содержимого, которое было удалено, и получение координат каждого изменения в результирующем документе. Есть гораздо больше опций, которые можно использовать для настройки процесса сравнения. Например, легко изменить уровень чувствительности сравнения, включить создание сводной страницы, включить/отключить каждый тип изменений, настроить их стиль в результирующем документе и многое другое. Информацию можно найти [в документации](/comparison/java/getting-started/).
В конце блока «применить» метод «comparer.getChanges()» используется для получения списка изменений.

#### Внедрение зависимости

Последней полезной вещью в примере приложения является объект `ModulesInjection`. Он предоставляет Koin информацию об интерфейсах и классах, которые Koin должен создать или внедрить. В проекте настраиваются контроллеры, юзкейсы и менеджеры. Очень легко настроить Koin для внедрения нового класса. Просто укажите его в одном из модулей здесь.

<script src="https://gist.github.com/groupdocs-comparison-gists/0754c1a4729f7b0f0e6d4828049d6a48.js"></script>

### Получите бесплатную лицензию API

Многие настройки сравнения, например, чувствительность сравнения, создание итоговой страницы и т. д., доступны только при установленной лицензии. Вы можете получить [бесплатную временную лицензию](https://purchase.groupdocs.com/temporary-license), чтобы использовать API без ограничений на пробную версию.

### Вывод

В статье описан образец [GroupDocs.Comparison](https://products.groupdocs.com/comparison/java/), созданный с использованием веб-фреймворка Javalin. Гораздо больше примеров использования GroupDocs.Comparison для Java/Kotlin можно найти на нашей [странице GitHub](https://github.com/groupdocs-comparison/GroupDocs.Comparison-for-Java). Вы можете свободно изменять и использовать их в качестве ядра своего собственного приложения для сравнения фотографий, файлов Excel, Word, файлов кода, презентаций PowerPoint и многого другого [поддерживаемые форматы файлов](/comparison/java/supported-document-formats/ ).

Чтобы получить подробную информацию, варианты и примеры, вы можете просмотреть [документацию] (/comparison/java/getting-started/) и репозиторий [GitHub] (https://github.com/groupdocs-comparison). Свяжитесь с нами [на форуме] (https://forum.groupdocs.com/) для решения ваших вопросов.

### Смотрите также

* Как [сравнить документы](/comparison/java/how-to-compare-documents-in-the-easiest-way) самым простым способом
* Как [сравнить файлы](/comparison/java/how-to-compare-files-in-java-or-kotlin) в Java или Kotlin
* Как [сравнивать изображения](/comparison/java/how-to-compare-images-using-java-or-kotlin) с помощью Java или Kotlin
* Как [использовать Ktor Comparison](/comparison/java/how-to-use-ktor-comparison-sample) Образец
* Как [см. сравнение и контраст](/comparison/java/how-to-see-comparison-and-contrast-of-essays) эссе
* Как [сравнить текст, Word или PDF](/comparison/java/how-to-compare-text-word-pdf-in-java-or-kotlin) в Java или Kotlin

